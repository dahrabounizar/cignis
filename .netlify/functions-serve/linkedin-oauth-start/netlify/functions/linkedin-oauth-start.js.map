{
  "version": 3,
  "sources": ["../../workspace/netlify/functions/linkedin-oauth-start.js"],
  "sourceRoot": "/tmp/tmp-2720-JteAviZOGtiO",
  "sourcesContent": ["export async function handler(event, context) {\n  console.log('OAuth start called with:', event.queryStringParameters);\n  \n  const { type = 'basic' } = event.queryStringParameters || {};\n  \n  const baseUrl = 'https://www.linkedin.com/oauth/v2/authorization';\n  \n  let clientId, scope;\n  if (type === 'dma') {\n    clientId = process.env.LINKEDIN_DMA_CLIENT_ID;\n    scope = 'r_dma_portability_3rd_party';\n  } else {\n    clientId = process.env.LINKEDIN_CLIENT_ID;\n    scope = 'openid profile email w_member_social';\n  }\n  \n  if (!clientId) {\n    console.error('Missing client ID for type:', type);\n    return {\n      statusCode: 400,\n      body: JSON.stringify({ error: 'Missing client configuration' })\n    };\n  }\n  \n  const redirectUri = `${process.env.URL}/.netlify/functions/linkedin-oauth-callback`;\n  \n  // For development, use localhost\n  const actualRedirectUri = process.env.NODE_ENV === 'development'\n    ? 'http://localhost:8888/.netlify/functions/linkedin-oauth-callback'\n    : redirectUri;\n    \n  console.log('Redirect URI:', actualRedirectUri);\n  \n  const authUrl = `${baseUrl}?response_type=code&client_id=${clientId}&redirect_uri=${encodeURIComponent(actualRedirectUri)}&scope=${encodeURIComponent(scope)}&state=${type}`;\n  console.log('Generated auth URL:', authUrl);\n  \n  return {\n    statusCode: 302,\n    headers: {\n      Location: authUrl,\n      'Access-Control-Allow-Origin': '*'\n    }\n  };\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAsB,QAAQ,OAAO,SAAS;AAC5C,UAAQ,IAAI,4BAA4B,MAAM,qBAAqB;AAEnE,QAAM,EAAE,OAAO,QAAQ,IAAI,MAAM,yBAAyB,CAAC;AAE3D,QAAM,UAAU;AAEhB,MAAI,UAAU;AACd,MAAI,SAAS,OAAO;AAClB,eAAW,QAAQ,IAAI;AACvB,YAAQ;AAAA,EACV,OAAO;AACL,eAAW,QAAQ,IAAI;AACvB,YAAQ;AAAA,EACV;AAEA,MAAI,CAAC,UAAU;AACb,YAAQ,MAAM,+BAA+B,IAAI;AACjD,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,+BAA+B,CAAC;AAAA,IAChE;AAAA,EACF;AAEA,QAAM,cAAc,GAAG,QAAQ,IAAI,GAAG;AAGtC,QAAM,oBAAoB,QAAQ,IAAI,aAAa,gBAC/C,qEACA;AAEJ,UAAQ,IAAI,iBAAiB,iBAAiB;AAE9C,QAAM,UAAU,GAAG,OAAO,iCAAiC,QAAQ,iBAAiB,mBAAmB,iBAAiB,CAAC,UAAU,mBAAmB,KAAK,CAAC,UAAU,IAAI;AAC1K,UAAQ,IAAI,uBAAuB,OAAO;AAE1C,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,SAAS;AAAA,MACP,UAAU;AAAA,MACV,+BAA+B;AAAA,IACjC;AAAA,EACF;AACF;",
  "names": []
}
